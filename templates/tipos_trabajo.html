{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">Tipos de Trabajo</h1>

<a href="{{ url_for('agregar_tipo_trabajo') }}" class="btn btn-primary mb-3">+ Agregar Tipo de Trabajo</a>

<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for tipo in tipos %}
            <tr>
                <td data-label="ID">{{ tipo.id }}</td>
                <td data-label="Nombre"><strong>{{ tipo.nombre }}</strong></td>
                <td data-label="Acciones">
                    <a href="{{ url_for('editar_tipo_trabajo', id=tipo.id) }}" class="btn btn-sm btn-warning">Editar</a>
                    <form action="{{ url_for('borrar_tipo_trabajo', id=tipo.id) }}" method="POST" style="display:inline;">
                        <button type="submit" class="btn btn-sm btn-danger mt-1" 
                                onclick="return confirm('¿Seguro que querés borrar este tipo de trabajo?')">Borrar</button>
                    </form>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="3" class="text-center">No hay tipos de trabajo registrados todavía.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Responsive en móvil -->
<style>
    @media (max-width: 768px) {
        .table-responsive { overflow-x: hidden; }
        table, thead, tbody, th, td, tr { display: block; }
        thead tr { position: absolute; top: -9999px; left: -9999px; }
        tr { border: 1px solid #ddd; border-radius: 12px; margin-bottom: 1rem; padding: 1rem; background-color: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        td { border: none; position: relative; padding-left: 50% !important; text-align: right; }
        td::before { content: attr(data-label); position: absolute; left: 1rem; width: 45%; font-weight: bold; text-align: left; color: #555; }
        td[data-label="Acciones"] { padding-left: 1rem !important; text-align: left; }
        td[data-label="Acciones"]::before { content: ""; }
    }
</style>
{% endblock %}